apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: my-secret
  namespace: default
spec:
  secretStoreRef:
    name: aws-secret-store
    kind: SecretStore
  target:
    name: my-k8s-secret
  data:
    - secretKey: access-key-id
      remoteRef:
        key: production/aws-credentials
        property: access-key-id
    - secretKey: secret-access-key
      remoteRef:
        key: production/aws-credentials
        property: secret-access-key
# apiVersion: external-secrets.io/v1beta1
# kind: SecretStore
# metadata:
#   name: aws-secret-store
#   namespace: default
# spec:
#   provider:
#     aws:
#       service: SecretsManager
#       region: us-east-1
#       auth:
#         jwt:
#           serviceAccountRef:
#             name: external-secrets-sa
#             namespace: default
